!function(e,t,o){"use strict";if(void 0===window.parent)return;let r=window.parent;var n=function(){t.hooks.addAction("frontend/element_ready/metform.default",function(o){if(t.isEditMode()){var n=o.find(".formpicker_warper_edit");if(n.off("click.metform").on("click.metform",function(){var t=r.jQuery("#metform-open-content-editor"),o=n.attr("data-metform-formpicker-key"),i=e(this).attr("data-nonce");t.find(".metform-error").remove(),t.find(".metform-content-editor-radio").on("click",function(o){var r=e(this).closest("li").data("target");t.find("#"+r).fadeIn().siblings().hide()}),e.ajax({url:e(this).attr("resturl")+(o||0),type:"get",headers:{"X-WP-Nonce":i},dataType:"html",success:function(e){e?(t.find(".metform-content-editor-radio").first().trigger("click"),t.find(".metform-open-content-editor-templates").html(e)):(t.find(".metform-content-editor-radio").last().trigger("click"),t.find(".metform-open-content-editor-templates").parent().append("<p class='metform-error'>No forms were created yet!</p>"))}}),t.show()}),r.jQuery("#metform-open-content-editor").off("click.metform").on("click.metform",".metform-open-content-editor-button",function(){var t=r.jQuery(".metform-dynamic-content-modal"),o=t.find("#formpicker-control-iframe"),n=t.find(".dialog-lightbox-loading"),i=t.find(".dialog-type-lightbox"),m=e(this).parents(".metform-open-content-inner"),a=m.find(".metform-open-content-editor-templates").val(),d=m.find(".metform-content-editor-radio:checked").val(),f=m.find(".metform-template-radio:checked").val(),c=m.find(".metform-template-input-con input").val(),l=r.jQuery("#metform-form-modalinput-settings").data("nonce");"saved"==d?r.jQuery("body").attr("data-metform-template-key",a):e.ajax({url:e(this).attr("resturl")+"builder_form_id/"+f+"?title="+c,type:"GET",headers:{"X-WP-Nonce":l},success:function(e){r.jQuery("body").attr("data-metform-template-key",e),m.find(".metform-template-input-con input").val(""),m.find(".metform-template-radio").removeAttr("checked").first().attr("checked","checked"),a=e},async:!1});var s=e(this).attr("resturl")+"builder/"+a;r.jQuery("body").attr("data-metform-template-load","false"),i.show(),t.show(),n.show(),o.contents().find("#elementor-loading").show(),o.css("z-index","-1"),o.attr("src",s),o.on("load",function(){n.hide(),o.show(),o.contents().find("#elementor-loading").hide(),o.css("z-index","1")})}),r.jQuery("#elementor-editor-wrapper").on("click","#metform-inspactor-edit-button",function(){}),void 0!==r.jQuery)r.jQuery(".metform-close-editor-modals").off("click.metform").on("click.metform",function(){if(e(this).hasClass("metform-editor-close")){var t=r.jQuery(".metform-dynamic-content-modal").find("#formpicker-control-iframe"),o=t[0].contentWindow||t[0].contentDocument;o.jQuery("#elementor-panel-saver-button-publish").hasClass("elementor-disabled")?i(r):confirm("Leaving? Changes you made may not be saved.")?(o.jQuery(o).off("beforeunload"),i(r)):o.jQuery(o).off("beforeunload")}else if(e(this).hasClass("metform-picker-close")){i(r);var n=r.jQuery("#metform-open-content-editor"),m=n.find(".metform-content-editor-radio:checked").val(),a=n.find(".metform-open-content-editor-templates").val();"saved"==m&&r.jQuery("body").attr("data-metform-template-key",a),i(r)}else i(r);r.jQuery("#metform-open-content-editor").find(".metform-picker-close").hide(),r.jQuery("#metform-open-content-editor").find(".metform-template-radio").removeAttr("checked").first().attr("checked","checked")});r.jQuery("#metform-open-content-editor").find(".metform-open-content-editor-templates").on("change",function(){r.jQuery("#metform-open-content-editor").find(".metform-picker-close").fadeIn()}),r.jQuery(".metform-form-update-close-btn").off("click.metform").on("click.metform",function(){var e=r.jQuery(".metform-dynamic-content-modal").find("#formpicker-control-iframe"),t=e[0].contentWindow||e[0].contentDocument;if(t.jQuery("#elementor-panel-saver-button-publish:not([disabled])").hasClass("elementor-disabled"))r.jQuery(".metform-close-editor-modals").trigger("click.metform");else{t.jQuery("#elementor-panel-saver-button-publish:not([disabled])").trigger("click");var o=setInterval(function(){t.jQuery("#elementor-panel-saver-button-publish:not([disabled])").hasClass("elementor-disabled")&&(r.jQuery(".metform-close-editor-modals").trigger("click.metform"),clearInterval(o))},100)}})}function i(e){e.jQuery("body").attr("data-metform-template-load","true"),e.jQuery(".metform-dynamic-content-modal").hide(),e.jQuery("#metform-open-content-editor").hide()}})};e(window).on("elementor/frontend/init",n)}(jQuery,window.elementorFrontend);